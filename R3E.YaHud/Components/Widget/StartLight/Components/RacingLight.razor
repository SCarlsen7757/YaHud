<div class="racing-light-container">
    <div class="housing @(IsOn ? "on" : "off")" style="@ComputedStyle">
        <!-- OUTER RING: 24 LEDs generated via loop -->
        <div class="outer-ring">
            @for (int i = 0; i < 360; i += 15)
            {
                <div class="led ring-led" style="--angle: @(i)deg;"></div>
            }
        </div>

        <!-- CENTER GRID: 3-5-7-7-7-5-3 Layout -->
        <div class="center-grid">
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
            <div class="grid-row">
                <div class="led"></div><div class="led"></div><div class="led"></div>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public bool IsOn { get; set; } = false;

    /// <summary>
    /// Pass a hex string like "#FF0000" or any valid CSS color.
    /// </summary>
    [Parameter]
    public string ColorHex { get; set; } = "#FF0000";

    private string ComputedStyle => 
        (IsOn ? $"--active-color: {ColorHex};" : "");
}